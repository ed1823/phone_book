{% extends "base.html" %}
{% load widget_tweaks %}
{% block title %}–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç{% endblock %}

{% block content %}
  <div class="max-w-md mx-auto bg-white p-6 rounded shadow-md">
    <h2 class="text-2xl font-semibold mb-6 text-center">–ù–æ–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç</h2>

    {% if messages %}
      {% for message in messages %}
        {% if message.tags == 'error' %}
          <div class="mb-4 p-3 rounded text-sm bg-red-100 text-red-800 border border-red-300">
            {{ message }}
          </div>
        {% endif %}
      {% endfor %}
    {% endif %}

    <form method="post" class="space-y-5">
      {% csrf_token %}

      <!-- –§–ò–û -->
      <div>
        <label class="flex items-center text-sm font-medium text-gray-700 mb-1">
          –§–ò–û
        </label>
        {{ form.name|add_class:"w-full border border-gray-300 rounded px-4 py-2" }}
        {% for error in form.name.errors %}
          <p class="text-sm text-red-600 mt-1">{{ error }}</p>
        {% endfor %}
      </div>

      <!-- –¢–µ–ª–µ—Ñ–æ–Ω -->
      <div>
        <label class="flex items-center text-sm font-medium text-gray-700 mb-1">
          –¢–µ–ª–µ—Ñ–æ–Ω
          <div class="relative group ml-2">
            <div class="w-5 h-5 flex items-center justify-center rounded-full bg-blue-100 text-blue-700 text-xs font-bold cursor-pointer">
              ?
            </div>
            <div class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-max max-w-xs bg-gray-900 text-white text-sm rounded px-3 py-2 shadow-lg z-20">
              –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ: +7 (775) 123-45-67
            </div>
          </div>
        </label>
        {{ form.phone|add_class:"w-full border border-gray-300 rounded px-4 py-2" }}
        {% for error in form.phone.errors %}
          <p class="text-sm text-red-600 mt-1">{{ error }}</p>
        {% endfor %}
      </div>

      <!-- –ê–¥—Ä–µ—Å -->
<div>
  <label class="flex items-center text-sm font-medium text-gray-700 mb-1">
    –ê–¥—Ä–µ—Å
  </label>
  {{ form.address|add_class:"w-full border border-gray-300 rounded px-4 py-2" }}
  {% for error in form.address.errors %}
    <p class="text-sm text-red-600 mt-1">{{ error }}</p>
  {% endfor %}
</div>

      <!-- Email -->
      <div>
        <label class="flex items-center text-sm font-medium text-gray-700 mb-1">
          Email
          <div class="relative group ml-2">
            <div class="w-5 h-5 flex items-center justify-center rounded-full bg-blue-100 text-blue-700 text-xs font-bold cursor-pointer">
              ?
            </div>
            <div class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-max max-w-xs bg-gray-900 text-white text-sm rounded px-3 py-2 shadow-lg z-20">
              –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email, –Ω–∞–ø—Ä–∏–º–µ—Ä: example@mail.ru
            </div>
          </div>
        </label>
        {% if form.email.errors %}
          {{ form.email|add_class:"w-full border border-red-500 rounded px-4 py-2" }}
        {% else %}
          {{ form.email|add_class:"w-full border border-gray-300 rounded px-4 py-2" }}
        {% endif %}
        {% for error in form.email.errors %}
          <p class="text-sm text-red-600 mt-1">{{ error }}</p>
        {% endfor %}
      </div>

      <!-- –ö–Ω–æ–ø–∫–∞ -->
      <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition">
        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
      </button>
    </form>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.8/inputmask.min.js"></script>
<script>
  $(document).ready(function () {
    Inputmask("+7 (999) 999-99-99").mask("#id_phone");
  });
</script>
{% endblock %}
